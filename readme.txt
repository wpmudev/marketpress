=== MarketPress - WordPress eCommerce  ===
Contributors: WPMUDEV
Tags: E-commerce, ecommerce, storefront, sell, store, shopping, cart, payment gateways, digital downloads, online store
Requires at least: 3.7
Requires PHP: 5.2
Tested up to: 5.2
Stable tag: 3.4.0

Full-power ecommerce marketplace for WordPress and Multisite. 100% free and no extensions required.

== Description ==

MarketPress ecommerce is a completely free premium online storefront for WordPress and Multisite.

Sell everything from digital downloads to physical goods in all shapes and sizes, offer product variations and instant downloads from one easy-to-use online marketplace.

= The Only Premium And Completely Free Ecommerce Plugin =

No need to spend hundreds of dollars purchasing add-ons or special licenses. MarketPress brings together the power of dozens of different plugins in one solid standalone ecommerce product.

[youtube http://www.youtube.com/watch?v=4QX1P7e-9dw&hd=1]

= Features =

Setting up your own online store couldn't be easier with MarketPress. Features include:

* Setting up your own online store couldn't be easier with MarketPress. Features include:
* Full suite of 15 payment gateways
* Choose from 120 different currencies as your default currency
* Fully internationalized by the WPML crew
* Sell real objects or digital downloads
* Simple one-page checkout
* Easy setup with built-in Wizard
* Choose how many times a customer can download a file they have purchased
* Ready to go for tax and VAT
* PDF Invoicing
* Calculated shipping modules (UPS, USPS, Fedex, in-store pickup)
* Pinterest, Facebook and Twitter shares buttons
* Coupons, discounts and affiliate-ready
* Fully integrated with Google Universal Analytics eCommerce tracking
* Unlimited product variations
* Coupons and sales pricing
* Stock tracking and alerts per variation
* Per order product limits
* AJAX cart and cart widget
* Powerful shortcodes you can use anywhere
* Shortcode button in the post visual editor
* Link any product to an external link
* Stock tracking and order management and alerts
* Automatically hide products when they are out of stock
* Display related products
* Checkout without having to be a site user


= Customize Without Code =

MarketPress is built to work flawlessly with any well-coded WordPress theme.

* Shortcodes and built-in widgets let you display elements anywhere on your site
* Includes CSS style presets
* Product thumbnails/images with lightbox zooming

Or go download one of our Upfront themes with built-in MarketPress styles and a powerful drag-and-drop front end visual theme editor.

= Multisite and BuddyPress Compatible =

Set up your own eBay or Etsy-style network of stores and take a percentage of each sale.

Whether you want to set up an individual storefront online or an entire ecommerce network for stores, MarketPress is the go-to solution.

★★★★★
“I love this plugin! Other ecommerce plugins were just complicated. I set up Marketpress yesterday and woke up this morning with sales that took place seamlessly!” – <a href="https://wordpress.org/support/users/roseee">roseee</a>

★★★★★
“I never dreamed it possible yet here I am doing it. I Launched an etsy-style network using MarketPress. Really nice work. Can’t do this with Woo!” – <a href="https://wordpress.org/support/users/leedman/">leedman</a>

= Free Payment Gateways =
Accept payments using any of the 15 built-in popular payment gateways, including Stripe, PayPal and Authorize.net.

* 2Checkout
* Authorize.net AIM
* eWay shared payments
* eWay Rapid 3.1 Payments
* Manual Payments
* Mijireh
* Mollie
* Paymill
* PayPal Chained Payments
* PayPal Express Checkout
* PayPal PayFlow Pro
* PIN
* Simplify Commerce by MasterCard
* Stripe
* WePay

= Shipping Made Easy =
Ship anywhere in the world with confidence. Use flat rate shipping or cater to specific distribution logistics using table or weight rates

= Google Analytics =
MarketPress is both Google Universal Analytics and Google Analytics eCommerce compatible. Track sales and site activity and grow your business

= Social Sharing =
Go viral with the included Pinterest, Facebook and Twitter share buttons. MarketPress makes it easy for your customers to share your products with their friends and family.

= Automated Inventory Manager =
When youвЂ™re running out of any of your products, MarketPress will let you know when itвЂ™s time to restock вЂ“ or automatically hide products when they are no longer available.

= Setup Wizard Included =
ItвЂ™s big and powerful but donвЂ™t worry...the MarketPress setup wizard will walk you through setting up your store, step-by-step, so you donвЂ™t have to think about whatвЂ™s going on behind the scenes.

If you run into any problems getting started, <a href="https://premium.wpmudev.org/project/e-commerce/#usage">MarketPress</a> is well documented and our support team is available around the clock to answer any questions you may have.

So what are you waiting for? Get started with <a href="http://premium.wpmudev.org/project/e-commerce/">MarketPress ecommerce</a> today. Everything you need to start and grow your online store.


== Installation ==
= To Install: =

1.  Download the MarketPress plugin file
2.  Unzip the file into a folder on your hard drive
3.  Upload the `/wordpress-ecommerce/` folder to the `/wp-content/plugins/` folder on your site
4.  Visit your Dashboard -> Plugins and Activate it there.

= To Set Up And Configure MarketPress =
* You can find <a href='http://premium.wpmudev.org/project/e-commerce/#usage'>in-depth setup and usage instructions with screenshots here &raquo;</a>

= Importing products from the WP e-Commerce plugin =
You can import products directly into MarketPress from WP e-Commerce

1.  Activate WP e-Commerce and MarketPress plugins
2.  Go to Site Admin>Products>Store Settings and click the tab for "WP e-Commerce Importer"
3.  Select 'Import Now'.
4.  You should see a success message letting you know the process has been completed.

== Frequently Asked Questions ==

= Do I need to be a paid WPMU DEV member? =
Nope! This plugin is offered at no charge.

= Is this BuddyPress compatible? =
Absolutely.  MarketPress will work on individual sites in BuddyPress.

= How do I get support? =
We provide comprehensive and guaranteed support on the <a href='http://premium.wpmudev.org/forums/tags/marketpress-ecommerce'>WPMU DEV forums</a>.

== Screenshots ==

1. Beautiful grid product layouts.
2. Clean and easy-to-read product pages.
3. Descriptions and Reviews.

== Changelog ==

= 3.4.0 =
* Fix: Product image caching system littering the monthly upload tree

= 3.3.0 =
* New: Added new filter mp_media_buttons to disable/enable shortcode buttons in visual editor.
* New: Added Greece to PayPal countries list.
* Fix: Fix conflict with Branda.

= 3.2.10 =
* Fix: Always do TLS verification when making curl calls.

= 3.2.9 =
* Fix: Conflict with plugins WDP ID header and Dashboard 4.7
* GDPR: Ability to erase user personal data
* GDPR: Ability to export user personal data
* GDPR: Plugin information to default "Private Policy" page during auto-creation of the page
* GDPR: Checkbox with Privacy Policy during checkout
* Enhance: Define DONOTCACHEPAGE constant on plugin pages
* Fix: Paypal Error: 10413 - The totals of the cart item amounts do not match order amounts
* Fix: Highlighting and selecting variation values
* Fix: Add to cart showing Mixed Content error on mapped site in Domain Mapping plugin
* Fix: "OOPS! THAT PAGE CAN’T BE FOUND." message after plugin installation
* Fix: Validation not working for some fields in the Setup Wizard
* Fix: Export to PDF fatal error
* Fix: Remove plugin shortcodes from Customizer text fields
* Fix: Typo in helpers file

= 3.2.8 =
* New: Options for sending all notification types
* Enhance: Isle of Wight added to the country list
* Enhance: Allow to deselect default variation in product edit screen
* Enhance: Remove extra fields from checkout
* Enhance: Users will not be able to order without filling out all required fields on checkout
* Enhance: Add prefixes to css styles so they do not affect non MarketPress pages
* Fix: Shipping tax calculated incorrectly
* Fix: PHP notices when creating variations
* Fix: Wrong symbol for Turkish Lira
* Fix: Tax settings for Canada not being applied correctly
* Fix: Error when adding coupon code on checkout page
* Fix: Error when creating global MarketPress pages on multisite
* Fix: Product page with variations will not auto select the first variation by default
* Fix: Inability to deselect default variation for a product
* Fix: Wrong sale price on products page for variable products
* Fix: Conflict with Domain Mapping plugin

= 3.2.7 =
* Enhance: Update translation strings
* Fixed: Potential php object injection vulnerability
* Fixed: On some occasions products not added to cart when Hummingbird is enabled
* Fixed: Digital products not downloading after payment
* Fixed: Variation images not showing in custom template files

= 3.2.6 =
* Enhance: Allow users to deselect default template in store settings
* Fixed: Products that were not sorted correctly before, will be automatically updated to work correctly
* Fixed: Missing translation strings for field verification on checkout pages
* Fixed: Taxes for digital and physical products
* Fixed: Default template styles
* Fixed: Compatibility with Toolset Types plugin
* Fixed: Coupon code add-on affecting taxes in cart
* Fixed: Warning on products page in admin
* Fixed: Quick setup notice not dismissed first time
* Fixed: Unable to checkout digital products
* Fixed: Save changes button in admin appears multiple time when using different translations
* Fixed: Layout on checkout when billing address does not match shipping address

= 3.2.5 =
* Enhance: Removed @import directives for better compatibility with Hummingbird
* Enhance: Better support for older PHP versions (5.2 and 5.3)
* Fixed: Issue with Upfront navigation on single product pages
* Fixed: Tax rate resetting to 0%
* Fixed: PHP notices on product pages
* Fixed: PHP warning during quick setup
* Fixed: Styles in admin interface
* Fixed: MarketPress disabling front-end page comments
* Fixed: Some orders were not changing status to Paid with Stripe payment gateway

= 3.2.4 =
* Added: Password check for password-protected products
* Added: Settings link on the Plugins page
* Added: Multi-file uploa field type
* Added: Addon to enable product multiple files
* Added: File list incase the product files are more than one
* Fixed: When editing variable products, do not update price if it is not set
* Fixed: Checkout page (sections not opening, inability to continue checkout without inputing zip code, notices on checkout page)
* Fixed: Coupons could not be applied to cart when date format was set to d/m/Y
* Fixed: Issue with conversions not being tracked in Google Analytics
* Fixed: Removed warnings and notices on product page
* Fixed: Various small bug fixes and improvements
* Changed: Simplify will now show message if the payment is declined
* Updated: WePay Payment gateway to use the latest v3 API with the 'address.postal_code' attribute
* Refactored: Download code to cater for multiple files via a prameter

= 3.2.3 =
* Fixed: Product shortcode attributes not applied
* Fixed: HTML tags stripped from product description
* Tweaked: Added county Bristol for UK provinces

= 3.2.2 =
* Fixed: PHP 7.1 Compatibility
* Tweaked: Bulk edit sets price to 0
* Tweaked: Global currency option missing in Store Network Settings

= 3.2.1 =
* Fixed: Fatal error with PHP version lower than 5.5

= 3.2 =
* New: Removed all limitations from free version. MarketPress is now 100% free.
* Adjusted versioning to lineup with MarketPress Pro
* TONS of code cleanup/optimizations - 99% of PHP notices/warnings have been cleaned up
* New: Short codes can now be inserted via a popup wizard that is available from within the TinyMCE editor
* New: Product variations have been rebuilt from the ground up
* New: Setup wizard
* New: Regular/Sale price can now be bulk/quick edited
* New: Set store capabilities for all of your user roles
* New: Add-on system
* Coupons are now an add-on and can be disabled if not being used
* Admin interface has been rebuilt from the ground up
* Added new default store style
* Added Bahrain Dinars to the list of available currencies.
* Added links to settings/network settings on plugins page.
* Settings metaboxes now use ajax instead of page refresh where applicable.
* Added screen options tab on orders screen - users can now specify how many orders per page they want.
* Added on-demand (jQuery) data validation on most settings screens.

= 2.9.5.6 =
* Fixed: products being set to draft status after being ordered

= 2.9.5.5 =
* Added: "mp_imported_products_post_status" filter * gives the ability to set the post status of imported products
* Fixed: when importing products via CSV and products have the same featured image only the first product attaches the image
* Fixed: bug with mp_list_products short code and pagination
* Fixed: bug with tax calculations due to over*rounding
* Fixed: bug with PayPal Express gateway when tax shipping is enabled
* Fixed: bug with automatic emails some times not being RFC5322 compliant due to line length

= 2.9.5.4 =
* Fixed: Shipping tax not being calculated correctly when using tax*inclusive pricing
* Fixed: Out of stock products are still showing when "Hide out of stock items" is enabled
* Fixed: Extra title showing above the default product image in grid view
* Fixed: Pinterest pin*it button doesn't open in new window/tab
* Fixed: Store menu items regenerate themselves after being deleted

= 2.9.5.3 =
* Fixed: Fatal errors when MarketPress Pro is activated while MarketPress lite is also activated
* Fixed: PHP warnings with wp_title_output()
* Fixed: Nav Menu items classes not being applied correctly
* Fixed: Bug with pagination when displaying products from a given category using [mp_list_products] short code

= 2.9.5.2 =
* Added: BN codes to PayPal gateways

= 2.9.5.1 =
* Added: UPS shipping gateway now allows admin to choose the appropriate pickup type allowing for more accurate rate requests
* Fixed: When using global product list the "buy now" button adds the item to a cart that doesn't exist http://wp.mu/a2i
* Fixed: Shipping costs are being calculated but are not applying when order is processed http://wp.mu/a2h
* Fixed: Unable to deselect shipping options in Fedex shipping gateway settings http://wp.mu/a0s
* Fixed: Unable to deselect "use default embedded form" in Stripe gateway settings http://wp.mu/a0t
* Fixed: Unable to deselect checkboxes in Bitpay gateway settings
* Fixed: Extra characters at end of admin order notification email http://wp.mu/a0u

= 2.9.5 =
* Fixed: When using global cart admin some times loses the ability to change shipping methods

= 2.9.4.9 =
* Fixed: File download issue that some users were reporting
* Fixed: Conflicts with Ultimatum theme http://wp.mu/9tt
* Fixed: Global Product Widget is showing a description under each product even when "content to show" is set to none http://wp.mu/9u8
* Fixed: Shipping not being calculated correctly when using global cart and multiple shipping methods http://wp.mu/a0a
* Fixed: Issue with shipping/billing fields displaying incorrect values in admin http://wp.mu/a0b
* Fixed: Double escaping in global product list widget title http://wp.mu/a0e

= 2.9.4.8 =
* Fixed: Fatal error in some of the payment gateways

= 2.9.4.7 =
* Fixed: errors when checking out using PayPal and global cart is enabled
* Fixed: incorrect shipping calculations when using tax inclusive pricing and calculated shipping options
* Fixed: when toggling global cart on/off PayPal settings get wiped out
* Fixed: PHP warning when checking out using UPS shipping gateway

=  2.9.4.6 =
* Fixed: Product and category specific coupons could be used for any product with a mal-formed coupon code http://wp.mu/9qe
* Fixed: Fatal "Cannot use string offset as an array" error in network admin when enabling global cart http://wp.mu/9qf

= 2.9.4.5 =
* Fixed: display issue on product category templates http://wp.mu/9ek
* Fixed: when checking out every UPS shipping service shows as available instead of only the ones that are selected
* Fixed: order status links generate page-not-found errors http://wp.mu/9em
* Fixed: PHP notices when logging out
* Fixed: random slashes being added to Bitpay message field http://wp.mu/9f6

=  2.9.4.4 =
* Fixed: [mp_related_products] some times causes product categories/tags to not display http://wp.mu/9ce
* Fixed: errors when checking out when using global cart
* Fixed: shopping cart shows PHP warning
* Fixed: some arguments in [mp_list_global_products] don't work http://wp.mu/9dm
* Fixed: during checkout the shipping name field isn't being validated that a full name was entered http://wp.mu/9e8
* Fixed: can't unselect shipping options when using UPS gateway
* Removed Parcel Post shipping option from USPS shipping gateway as this only available through retail outlets
* New: emails are now sent as HTML - fixes issues with html entities displaying improperly in emails

= 2.9.4.3 =
* Fixed: admin bar shows wrong site than what is currently being viewed in multisite setup
* Fixed: receiving errors when checking out using Fedex http://wp.mu/9c2
* Fixed: when using UPS shipping, cart is showing one shipping rate while a different rate is being applied to the orders http://wp.mu/9c3
* Fixed: [mp_related_products] some times causes product categories/tags to not display http://wp.mu/9ce
* Fixed: PHP warning on product category/tag page
* Fixed: when changing categories some times no products will display even though there are products in the selected category
* Fixed: PayPal network settings don't save
* Fixed: item price in cart is wrong http://wp.mu/9cj
* Fixed: when using prices inclusive of tax and also taxing shipping fees the total tax is calculated incorrectly http://wp.mu/9cs

= 2.9.4.2 =
* Fixed: dashboard stats widget includes orders that are trashed
* Fixed: can't edit user shipping/billing info on user edit screen
* Fixed: tax breakdown doesn't display when using tax-inclusive pricing http://wp.mu/9bu
* Fixed: special characters show as html entities in emails
* Fixed: errors when checking out using Authorize.net gateway http://wp.mu/9bv

= 2.9.4.1 =
* Fixed: product list widget doesn't show price for products with variations http://wp.mu/9ai
* Fixed: spelling error in shipping settings http://wp.mu/9aj
* Fixed: lightbox no longer works on product images
* Fixed: not able to use both categories and tags in [mp_list_products] http://wp.mu/9ao
* Fixed: grid view broken in 2014 theme
* Fixed: related products "Relate Products By" dropdown doesn't accurately show selected value
* Added: custom update messages for products and orders
* Added: additional schema.org markup for Google Rich Snippets

= 2.9.4 =
* Fixed: grid view doesn't work when displaying global product list
* Fixed: products on are not added to cart when using buy now button on single product page
* Fixed: product categories not properly assigning when using global marketplace http://wp.mu/970
* Added: Bitpay Bitcoin gateway (alpha)

= 2.9.3.9 =
* Fixed: incorrect URL in Simplify gateway settings
* Fixed: incorrect URL in Authorize.net gateway settings
* Fixed: when logged in, order status links are incorrect
* Fixed: when using Authorize.net in sandbox mode API calls are being made in test mode
* Fixed: when completing checkout, in-stock items some times show as out of stock (when using variations)
* Fixed: when quickly adding multiple items to cart not all of the items get added http://wp.mu/96f

= 2.9.3.8 =
* Fixed: prices not showing up after 2.9.3.7 release

= 2.9.3.7 =
* Fixed: deprecated use of the $wpdb->escape() function
* Fixed: wrong link in PayPal Express settings
* Fixed: subtotal text appending for each item
* Fixed: coupons incorrectly apply to uncategorized items when using category-based coupons
* Fixed: coupon stays applied to cart after removing applicable products from cart
* Added: support for Google rich snippets NOTE: PLEASE CHECK YOUR PRODUCT PAGES AFTER UPDATING AS SOME ADDITIONAL TAGS HAVE BEEN ADDED
* Deprecated: mp_product_price_tag filter - use mp_product_price_html instead

= 2.9.3.6 =
* Fixed: product list shortcode not using correct "per_page" setting
* Fixed: product list scroll-to-top not working when product filters are hidden
* Fixed: not able to check off destination countries in IE 11

= 2.9.3.5 =
* Fixed a bug with certain settings not saving http://wp.mu/91u

= 2.9.3.4 =
* Fixed a bug with certain gateways and checkout totals some times not matching up and causing errors http://wp.mu/91n

= 2.9.3.3 =
* Fixed bug with not being able to deselect target countries once selected http://wp.mu/91g
* Fixed bug when clicking вЂњEUвЂќ target countries wouldnвЂ™t always work
* Fixed bug with tax not showing up on order pages in admin when using tax inclusive prices

= 2.9.3.2 =
* Fixed: bug with per-order download limits http://wp.mu/912
* Fixed: bug with checkout when tax inclusive pricing was enabled http://wp.mu/913
* Fixed: order confirmation emails were not reflecting coupon discounts

= 2.9.3.1 =
* Fixed: when using USPS shipping all shipping options would be available instead of only the ones selected in settings
* Fixed: Taxes were being added to cart when they shouldn't have been

= 2.9.3 =
* Fixed fatal error on checkout page that some users were reporting (specific to PHP version 5.3.1)

= 2.9.2.9 =
* Added MP_IMPORT_ALLOW_NO_PRICE constant to allow importing of products with no price

= 2.9.2.8 =
* Updated order status screens to reflect new coupon changes from 2.9.2.7
* Added coupon code to discount column in admin orders screen

= 2.9.2.7 =
* Fixed: In USPS shipping settings, services could not be unchecked
* Sessions are now only initialized when needed instead of on globally
* Coupon discounts are now applied to each applicable product instead of the cart as a whole (fixes "applies to" rules not working correctly)

= 2.9.2.6 =
* Fixed: "Uncaught TypeError: Object [object Object] has no method 'ColorPicker'" on network settings screen http://wp.mu/900
* Fixed: Undefined variables notices on network settings screen
* Fixed: Low stock notifications were being sent for products that didn't have inventory tracking enabled http://wp.mu/905
* Fixed: On checkout screen errors would show above breadcrumb whereas update messages would show below http://wp.mu/904
* Code cleanup for PayPal Express gateway

= 2.9.2.5 =
* Fixed: When using [mp_list_global_products] pagination would not work http://wp.mu/8z9
* Fixed: When editing a product-specific coupon, the product dropdown would not show up initially

= 2.9.2.4 =
* Fixed: Coupon codes would not honor the "applies to" setting http://wp.mu/8z8
* Fixed: Simplify gateway would display an "Simplify token not generated correctly" error when not activated with any other gateway plugins http://wp.mu/8yo
* Fixed: Compatibility bug with WordPress HTTPS http://wp.mu/8y3
* Fixed: Bug with low stock notifications

= 2.9.2.3 =
* Fixed: Low-stock notifications wouldn't send at expected threshold
* Fixed: Fixed a bug with not being able to use "services" as a page slug http://wp.mu/8xw
* Fixed: Javascript for Pinterest pin-it button would not be generated correctly
* Fixed: When switching shipping methods, table-rate data would be wiped out http://wp.mu/8xy
* New: Updated the Pinterest Rich Pins oEmbed endpoint to use http://www.yourdomain.com/wp-admin/admin-ajax.php?action=mp_oembed&type=pinterest&url=* instead of http://www.yourdomain.com/services/oembed?url=*

= 2.9.2.2 =
* Fixed: Bug where store page wasn't being created on activation http://wp.mu/8wl
* Fixed: Bug when adding coupons to specific products on sites with many (~10k+) products http://wp.mu/8wj
* Fixed: Hide postal/zip code field when checking out for ship-to countries that don't use postal/zip codes
* Fixed: Shipping would be set to zero for countries that don't require a postal/zip code http://wp.mu/8wi
* Fixed: Low-stock notifications now send at appropriate threshold http://wp.mu/8w6

= 2.9.2.1 =
* Fixed: Simplify gateway would cause errors when enabled with other gateways http://wp.mu/8w1
* Added: "mp_orders_cap" filter which allows developers to easily change the capability type required to view the orders menu
* Fixed: Divide by zero warning in USPS gateway
* Fixed: Mixed-content warnings in wp-admin
* Fixed: Session handling code that caused issues with PayPal Express checkout
* Fixed: Conflict with WordPress Social Invitations plugin http://wp.mu/8ul
* Fixed: When using WPML and [mp_product] shortcode the non-translated version of the product would be returned
* Fixed: GA E-Commerce bug http://wp.mu/8ve
* Fixed mixed-content issues on checkout pages when using SSL
* Fixed when importing products from csv, products with stock set to 0 wouldn't be tracked http://wp.mu/8sp
* Removed outdated translation files
* Added support for all Stripe payment gateway currencies http://wp.mu/8sw
* Updated session handling code - fixes some PHP warnings that some users were reporting
* Fixed some bugs in WePay gateway
* Localization files (.mo) can now be loaded from wp-content/language/marketpress/mp-{your locale}.mo
* Fixed issue (fatal error) when calculating total price with taxes in 2checkout payment gateway
* Fixed a bug where product pagination sometimes wouldn't display
* Fixed a bug in [mp_list_products] where products would always show above all other content
* Updated some default styles for cart widget
* Update .pot file
* Added presentation settings for choosing alignment of product image instead of always "alignleft"
* Updated mp_product_image function/shortcode to allow for setting product image alignment
* Fixed a bug where product filters would show even if turned off in presentation settings
* Fixed a Genesis theme compatibility update for >2.0
* Fixed a bug where no lightbox would show when using the [mp_product_image context="single"] shortcode with lightbox enabled in presentation settings http://wp.mu/8ov
* Added new payment gateway - WePay (beta)

= 2.9.0.3 =
* Fix: Genesis theme compatibility update for >2.0
* Use WP3.8 dashicon for admin menu
* Fixed a bug with product filters some times redirecting to a 404 page or returning the wrong product set
* Fixed a bug when calling mp_list_products() with no arguments, the default set of arguments would be populated incorrectly
* Fixed a bug where product listings would use default posts per page setting instead of the value in MarketPress presentation settings
* Fixed a bug where users couldn't update products/order after updating
* Added Coupons for individual categories/products
* Added compatibility with Google Universal Analytics
* Added Stripe embedded form button
* Added Pinterest "Rich Pins" w/advanced oembed endpoint
* Added show related products option
* Added Pickup in-store shipping option
* Added ability to assign a custom per-order limit to a product
* Add setting to turn off downloadable product default 1 per order limit
* Added filters to many template functions
* Minor bugfixes on Simplify gateway
* Deleted orders are now removed from usermeta
* Fixed bug with 2checkout where amount was returning more than 2 decimal places
* Added Russian Rubles to paypal currencies and locale
* Fix php warnings when switching between non-calculated shipping modules
* Fix bug with which gateway is shown when switching global cart in network settings
* Fix possible rounding error in Stripe gateway
* In Calculated Shipping plugins changed so if all weights in an order are zero then show Free Shipping
* In FedEx fixed problem with calculating the correct number of packages.
* Added https support for custom styles in the wp-content/marketpress-styles/ directory.
* Added ajax checkout error flag which is set when ajax starts and reset when ajax is finished. Prevents form submits from aborting shipping lookups.
* Removed apply_filters("mp_shipping_options_... call in extra_shipping_box_label() It passes nulls instead of an address so it can't properly recalculate the options anyway.
* Changes to USPS to standardize across the calculated shipping plugins.
* Make messages visual editor css more specific to avoid conflicts
* Add US Virgin Islands to USPS allowed base country list
* Added 4 new currencies to PayMill payment gateway (BGN, HRK, GIP, RON)
* Added 3 new currencies to PIN payment gateway (SGD, EUR and GBP)
* Added Australian Dollars (AUD) currency to Stripe payment gateway
* Added Norwegian Krone (NOK) currency to Skrill / MoneyBookers payment gateway
* Added 8 new currencies to 2CheckOut payment gateway (AED, ILS, LTL, PHP, RON, RUB, SGD, TRY)
* Added 2 new currencies to Authorize.net AIM payment gateway (AUD and NZD)
* Add filter so certain products can be excluded from GA tracking
* Pass manual gateway instuctions through wpautop() and allow shortcodes in it
* Remove encoded html from PayPal IPN strings http://wp.mu/7s9
* Delay upgrade rewrite flush to end of init hook http://wp.mu/7vt
* Remove retired Google checkout gateway
* Fixed bug with PayPal Express gateway and coupons where totals would be incorrect after being transferred to PayPal
* Updated mp_list_products() function to use WP-style arguments - users can still use existing argument style if they wish
* Added mp_list_products() can now display filters - no need to call mp_products_filter() in your theme template
* Added mp_list_products() can now display pagination
* Added mp_products_nav() to display products pagination
* Fixed some warnings related to shipping fields when checking out
* Fixed premature deletion of csv import file after previously deleting
* Fixed old text in Payflow gateway
* Related products can now be set to use either categories/tags separately or both at the same time
* Fixed bug when using category filter the page title, menu item, etc would not update accordingly http://wp.mu/8l9
* Fixed bug when checking out digital downloads and shipping was enabled the user would still be asked to choose a shipping method http://wp.mu/8mz
* Added PIN payment gateway (beta)
* Added Simplify Commerce gateway by MasterCard
* Add multiple currency support to Payflow Pro gateway
* Add Euro support to Stripe gateway (Ireland)
* Add "Tax Label" setting to customize the tax line item label in the cart
* Removed all the old style PHP 4 constructors (Class name functions)
* Remove help screen when WPMUDEV_REMOVE_BRANDING defined
* Fixed order_confirmation_email() declaration to match it's parent.(Warnings)
* In USPS shipping added maximum box weights to flat rate boxes to improve calculating the number of boxes needed.
* Fixed problem where shipping option could be unselected if the suboption disappeared due to changing the address.
* In FedEx, default to residential delivery. Only allow the customer to change residential to commercial if Allow Commercial checked in settings.
* Changed Continue Checkout buttonform disabled to hide during the shipping rate update.
* Fix admin styles that stopped being included due to a typo
* Avoid errors in the Paypal gateway if 100% coupons are used by making price 0.01
* Don't show confusing subtotal with tax inclusive pricing on
* Add SKU's to admin new order notification email
* Fixed a rounding error with Paypal chained and Tax Inclusive pricing
* Add support for Ireland locale in paypal and not require postal code
* Add support for CAD, EUR and GBP to Authorize.net AIM gateway
* Add support for GBP to Stripe gateway
* Fix store count on global checkout confirmation screen
* Fix coupons datepicker
* Added process_shipping_form call to shipping_sub_options() so that custom fields that can affect shipping will be read. (ie Resedential in FedEx)
* Make custom column code more efficient - props @michael_cannon
* Add a note to table rate shipping that it uses the pre-tax order total
* Add Serbia and Montenegro country codes
* Add mp_product_title() template function
* Add mp_product_description template function
* Add mp_product_meta template function
* Make order and payment history times adjust dynamically for the site timezone
* Add Paymill gateway (beta)
* Fix encoded discount display in confirmation emails and PayPal
* Fix products display reverting to grid in list mode when ajax filters are used
* Fix undefined filter_post_kses error for subsite admins in multisite in Manual Payments and Cubepoints gateways
* Fix a Manage Orders page pagination display bug/conflict
* Fix fatal conflict with SEO features of Genesis/Catalyst themes on category pages
* Change text of last checkout breadcrumb to "Order Complete"
* Sanitize price fields in various shipping modules
* Add New Zealand locale to paypal gateways
* Fix broken new order emails if % is included in product title
* Fix paypal express documentation links
* Add setting for "Collect Address on Downloadable Only Cart"
* SQL injection hardening
* Allow styling of global products by site (blogid in classname)
* Fix sort by price in product list widget http://wp.mu/1r5
* Fix popular products shortcode ordering
* Change Shipping form label when shipping is turned off
* Add CAD to stripe gateway
* Add Israel locale to PayPal gateway
* Fix function name conflict with WP-Client plugin
* Fix mp_product_list shortcode list_view argument
* Added eWay Rapid Payments 3.0 gateway (beta)
* Fixed FedEx no results problem. Shipment in non US countries were treated as International even though the destination was the same country.
* Added "Disable Large Image Display" to Presentatio, which prevents clicking on a product image from displaying a large image. Requested to prevent poaching large gallery images.
* Changed class if Lightbox is disabled so that if another plugin loads lightbox the product images won't use it.
* Fix a fatal error that slipped through when sending emails. Important!
* Add mp_product_sku() template function and shortcode
* Add setting to disable sales tax on digital products if desired
* Add option to set products to draft when out of stock
* Show all gateways to super admins in multisite (avoid confusion)
* Fix rounding errors with tax inclusive pricing (big one!)
* Fix problems with ajax paging with grid on taxonomy archive pages
* Fix css class on product images
* Fix being unable to overwrite shipping information fields with a blank value
* Fix grid bug when no styles are loaded http://wp.mu/h7
* Pass messages settings through wpautop()
* Added check for US country before trimming zip code to 5 characters in calculated shipping modules
* Disabled continue button on shipping form while shipping rates are being updated
* Fix up some notices and warnings on profile page: http://wp.mu/kl
* Reformat various template functions and their documentation
* Fix bug in PayPal/Moneybookers/eWay gateways with shipping method set to none
* Fix iDeal gateway tax inclusive pricing bug by dropping extra tax line item
* Add very beta Fedex shipping module
* Fix php warning when marking as shipped
* Fix missing orders export box on All orders page: http://wp.mu/ee
* Small fixes to css styles for external links
* Added UPS Shipping plugin!
* Added built in grid views!
* Add in AJAX dropdown category and order filters to listings pages
* Add optional breadcrumbs to checkout process steps
* Add default product images
* Added ability to trash/delete orders and adjusts stock counts accordingly
* Add featured image import support to the CSV importer
* Add a "clone product" functionality
* Add hooks for custom shipping methods and tracking links
* Major refresh of css styles
* Forced shipping option recalculation when Country changes.
* Fix php warning on category list page old menus
* Fix bug with product list widget when ordering by price or sales
* Fix missing closing tag in global widget breaking drag and drop
* Fix shipping settings save filter for method plugins: http://wp.mu/d7
* Error check in Manual Payments gateway: http://premium.wpmudev.org/forums/topic/bug-with-manual-payment
* Fixed 10525 Paypal errors in global cart checkouts
* Change the "from" price shown on variation listings to the lowest
* Change PayPal generated timestamps for server timezone support
* Fix double trigger of 'mp_order_paid' hook
* Added APO state codes to the marketpress-data.php so addresses can make it past PayPal's address checker,
* Use "APO", "FPO" or "DPO" for the City and 10 digit Zip code.
* Sorted USPS shipping choices in Ascending order so that the lowest price will be the default.
* Changed the Shipping sub options <select> to a select box instead of a dropdown.
* Added code to insure the first item in the Shipping sub options is selected if suboption is blank. Makes sure an item shows in iPad.
* Set minimum "size" on shipping_sub_options select box to 4 for Safari and Chrome quirk.
* Removed Handling charge display from USPS shipping options.
* Let ounces go decimal for shipping weight
* Add hooks to coupon functions
* Added another error passing method for calculated rates. If a suboption key contains 'error' the value is an error message.
* Fix ajax when force admin ssl is on
* Fix conflict with PODS plugin
* Other minor bug/notice fixes
* Include shopping cart item details in orders CSV exports
* fix special instructions in CSV order exports
* Add special instructions to admin new order notification
* Support ecommerce tracking with our Google Analytics plugin on multisite
* Don't require shipping fields when Shipping Modules are turned off
* Display shipping inclusive of tax if tax inclusive pricing is on
* Urlencode paypal url fields to support utf8 store slugs
* Fix an error and debug code in PayPal Express gateway
* Fix custom message showing in cart widget when empty: http://premium.wpmudev.org/forums/topic/shopping-cart-page-message-repeating-in-shopping-cart-widget
* Fix hooks for Affiliate plugin integration with Manual Payments gateway. Props @Rystraum!
* iDeal gateway bugfixes
* Fix rounding problems with tax prices when tax inclusive pricing is on
* Fix bug in flat rate shipping calculations
* Fix issue with shipping being charged for downloadable orders in global cart
* Important bugfix with saving Extra Shipping costs and Weights
* Fix bugs in iDeal gateway: http://premium.wpmudev.org/forums/topic/ideal-making-it-work
* Add Schema.org microdata to products for SEO, props @aristath!
* Add "from" price label to listings of multiple variation products
* Add cart message even when its empty
* Many many php notice fixes
* Fix major issues with new sites and coupons
* Fix coupons with a number as the code
* Fix rewrite flushing when changing store slugs
* Fix a stripslashes issue with email settings
* Fix unchecking of personalization checkboxes bug
* Fix outdated product urls in orderstatus after slug changes
* Added per shipment handling charge to USPS, one for domestic and one for international shipping.
* Add Argentina and Brazil to PayPal gateway countries
* Fix issue with category dropdown widget displaying all products
* Fix some potential problems with new installs and the CubePoints gateway
* Display Shipping Option and Shipping Sub Option next to shipping cost on Order Manage Page.
* Added shipping method to the SHIPPINGINFO in email. If mp_shipping_info['method'] not yet set from actual shipping, displays the customer's choice.
* Show Shortcodes and importers tabs in listing only mode
* Major bugfix to gateway plugins settings filters
* Fix stripslashes issue with manual payments gateway
* Fix email filtering for manual payments gateway
* Change order of 'mp_new_order' hook
* Add some more filters for WPML compatibility
* Verify product_ids before adding to cart
* Fix Egypt Pounds currency symbol
* Fix missing labels for custom styles in Network settings
* Added support for per Product and variation custom fields for personalization
* Allow shortcodes to work in custom page messages
* Fix issue with Stripe payment gateway JS conflict. http://premium.wpmudev.org/forums/topic/marketpress-problem-cant-finish-checking-out
* Fix an issue with numbered tags showing all products
* Bug fixes with $content argument in mp_product template function/shortcode
* Wrap prev/next nav links in wrapper for styling
* Fix problems with USPS shipping module
* Fix stripslashes issue with widget custom content
* Fix issues with single product shortcode attributes
* Improvements to coupon handling in PayPal Express gateway
* Add cart details to PayPal Express gateway paypal history
* Fix a bug in chained payments gateway not filling shipping/tax totals
* Internationalize various date strings on the order status pages
* Add UTF-8 BOM to csv exports http://premium.wpmudev.org/forums/topic/export-orders-csv-character-support
* Fix issues with PayPal chained payments gateway for sure
* Fix bug in Payflow Pro gateway: http://premium.wpmudev.org/forums/topic/marketpress-payflow-pro-not-sending-info-to-paypal
* Separate AJAX cart and checkout JS: http://premium.wpmudev.org/forums/topic/checkout-button-disappears
* Create MP_HIDE_MENUS define to hide store menus
* Add basic error messages for downloads
* Fix ocassional issues with chained payments gateway
* Fix shortcodes documentation
* Fix stripslashes issue in cart widget custom text
* Fix bug with x_delim_data in authorize.net gateway
* Fix wrong orderstatus link on global checkout confirmation page
* Four new shortcodes! [mp_product] (display a single product anywhere!), [mp_product_image], [mp_buy_button], [mp_product_price]
* Add support for custom css files in /wp-content/marketpress-styles/ folder to avoid overwriting on updates
* Fixed improper switching to V2 rate schedule on foreign orders in USPS module - Arnold Bailey
* Genesis compatibility improvements with it's featured images settings
* Fix bug with message display when there are no products in the product list or shortcode
* Fix table/weight rate shipping calculations for Canada - props shaunmacrae
* Minor fixes/updates to the WP ecommerce importer
* Minor fix to the Store Styles drop down display

= 2.5.1 =
* Fix bugs with iDEAL gateway
* Add support for multiple iDEAL banks
* Rename Store Themes to Store Styles to avoid terminology confusion
* Switch lightbox to GPL compatible lumebox
* WPML compatibility fixes
* Add a full CSV product importer!
* Add orders exporting as CSV by year and month
* Add weight based shipping module
* Add support for calculated shipping modules
* Add USPS calculated shipping module!
* Add order statistics dashboard widget
* Add store info to right now widget
* Add Log entry for cubpoints gateway checkouts
* Add "Only show on store pages" option to all widgets
* Add setting to disable excerpts in product lists
* Add per product special tax rates
* Add Pro Sites level recognition for multisite: http://premium.wpmudev.org/forums/topic/feature-request-advanced-integration-of-marketpress-and-pro-sites
* Add Stripe payment gateway! Accept credit cards directly on your site with full PCI compliance
* Add custom API url support to Authorize.net gateway for compatibility with many 3rd party gateways
* Add beta PayPal Payflow Pro gateway
* Add beta iDEAL gateway (ING bank only)
* Add setting to hide Product Image on single pages
* Fix translation issues for gateway and shipping plugin names
* Fix bug with category dropdown widget
* Fix custom menu current item highlighting in WP 3.3
* Fix tax calculation bug with Google Checkout gateway for orders with no tax
* Fix lightbox z-index on Twenty Eleven theme
* Make shipping fields behavior consistent with global cart enabled
* Fix currency rounding problem for large prices with decimals off
* Remove add to cart button when in product listing mode and no custom link set
* Allow $0 sale prices

= 2.4.2 =
* Fix a fatal bug introduced to the PayPal Express gateway in 2.4.1. Important update!
* Add sanity checks for long product names into PayPal gateway to prevent errors

= 2.4.1 =
* WP 3.3 Compatibility - Not backwards compatible
* Fix negative quantities being able to be added to your cart: http://premium.wpmudev.org/forums/topic/marketpress-security-bug
* Fix removing cart items when global is set to on
* Gracefully handle global carts if a seller hasn't configured PayPal by skipping their checkout
* Handle SSL properly on checkout page
* Fix out of stock AJAX message for variation products: http://premium.wpmudev.org/forums/topic/out-of-stock-triggers-when-only-one-of-the-variations-is-sold-out-but-others-are-still-available
* Hook into logout to clear personal session information: http://premium.wpmudev.org/forums/topic/security-issue-with-marketpress
* Add textdomain to plugin header to translate plugin description
* Change link field to work with low resolution
* Fix bug with icons css theme
* Update the table rate shipping for international support
* Update chained payments documentation
* Add Turkish lira to PayPal gateways
* Make shipping info available to search for on orders page. http://premium.wpmudev.org/forums/topic/search-store-orders-by-name-bug
* Add JS to drop-down categories shortcode
* Fix missing title on product list pages
* Fix title incompatibility with Genesis & Catalyst framework based themes
* Style fixes to icons CSS theme
* Fix double email for digital only orders
* Still send shipped notification email for download only carts (for gateways with delayed paid confirmations)
* Fix cart widget title getting removed on AJAX add to cart for some themes
* Combine forms on the edit order screen to avoid confusion when saving
* Add back in Inventory Threshold option
* Add action hook to mp_order_status() template function.
* Add points and credits currency types
* Add Table Rate shipping plugin
* Fix tax inclusive display in cart widget
* Fix blank gateway select page for download only carts combined with PayPal Express gateway
* Add back email field for download only carts
* Fix graceful degrading of AJAX cart handling
* Adjust PayPal gateway to gracefully handle carts with free products in them
* Fixed small bug in canada tax handling
* Added ajax shipping province dropdown for USA, CAN, AUS
* Fixed small checkout error display bug
* Fixed slashes issue in emails
* Fixed default tax display with tax inclusive pricing on
* Added Cubepoints gateway - Requires the CubePoints plugin: http://wordpress.org/extend/plugins/cubepoints/
* Added eWay Shared Payments gateway
* Add Tax inclusive pricing option
* Add tracking number field to shipping section of Order management
* Add notes field to order management page
* Add special instructions field option for orders that require personalization
* Skip shipping checkout page for digital only orders
* Fix dropdown product category widget
* Fix bug in tax calculation for some countries
* Fix bug in order payment status change to paid
* Fix small bug in global products paging last page

= 2.1.6 =
* Fix sprintf() bug on paypal-express gateway
* Fix rare bug with paypal-express gateway where orders were being duplicated across random blogs
* Usability improvements to settings pages
* Fix rewrites to ignore base (example /blog/)
* Up the timeout to 60 seconds for Paypal API requests
* Fix global cart cookies for some setups
* Fixes to order arguments for shortcodes and template functions
* Fix order sort for all old products
* Fix browse products link in empty cart page
* Attempt to fix occassional "missed a step" message on checkout confirmation

= 2.1.3 =
* WP 3.2 compatibility
* Coupons and Downloads now in the Lite version!
* Added a little hack for compatibility with Headway and Genesis themes
* Google Analytics Ecommerce tracking support
* Ability to add define('MP_HIDE_LOGIN_OPTION', true); to hide the login option on checkout
* Fixed redirect bug for login link on checkout
* Many new hooks for WPML full translation capability
* Ability to add add_theme_support('mp_style') to disable frontend css
* Fixed Kenyan Shilling symbol
* Added hooks to the download handler to allow plugins to override
* Fixed bug in drop down menus
* Changes to the download script to enable larger files
* Ability to add define('MP_LARGE_DOWNLOADS', true); to wp-config.php to use redirects for very large files
* Some improvements to the WP e-Commerce product importer for old thumbnails

= 2.1.1 =
* Fixed UN notice

= 2.1 =
* WP e-Commerce product importer added
* New importer plugin class added for others to easily build importers
* Fix language file location
* Fix slug conflicts with virtual pages and similar permalinks: http://premium.wpmudev.org/forums/topic/checkout-page-redirecting-slug-bug
* Add Kuwaiti dinar
* Additional error checks for FrameMarket theme
* Add check for MP_HIDE_ORDERSTATUS_SHIPPING constant
* Fix rare bug with permalinks
* Add configurable store admin email address
* Filter email from and name for store emails
* Add buyer email to order admin notification
* Remove digital flag in PayPal express gateway
* Fix out of order tbody tag on cart page
* Remove PHP5 depreciated class assignments

= 2.0.4 =
* Fix missing icons with default theme

= 2.0.3 =
* Fix another bug with Authorize.net gateway when product names are too long
* Update UK county list
* Fix some style issues

= 2.0.2 =
* Fix up bugs with Authorize.net gateway
* Bugfixes with storing shipping info on checkout
* Disable ajax cart if domain mapping is set to original backend
* Fix add link popup in messages rich text editors

= 2.0.1 =
* Change cart cookie name to prevent errors with existing carts on upgrade

= 2.0 =
* Global carts/checkout - PayPal Express only compatible gateway currently
* Downloadable Products
* Limit download count per purchase
* Product variations
* Per order product limits
* Skipping payment form page if only one gateway allowed
* Hide cart widget on cart pages
* Add cart widget to sidebar on first install
* Option to force login to checkout
* Moneybookers gateway
* Google Checkout gateway
* Many many bugfixes

= 1.3.1 =
* Fixed an email bug with the new manual payments gateway

= 1.3 =
* New Manual Payments gateway added! Now accept cash, checks, EFT, etc.
* Removed cart widget thumbnail settings until they actually do something
* Other small bugfixes

= 1.2.2 =
* Fix to new order ID filter
* Product list categories dropdown filter fixed in 3.1
* Fixed virtual page display issues in some themes

= 1.2.1 =
* Small Payment gateway bugfixes
* Chained payments not clearing cart bugfix

= 1.2.0 =
* Headway theme compatiblity fix: Missing argument 2 for MarketPress::filter_nav_menu()
* Fix category dropdown widget js
* Add filter to orderid generation
* Additional classes and filters added for our custom theme
* Added primary key on global term_relationships table to prevent duplicates
* More 2CO plugin conflict fixes

= 1.1.9 =
* Hooks added for externally loaded gateway/shipping plugins
* Added mp_items_in_cart() template function to determine if items are in the users cart
* 2Checkout payment plugin conflict with Membership plugin
* Fixed bug with low stock notification
* Added admin notification for new orders

= 1.1.8 =
* Lots of hooks added for plugins
* Bug fix when using custom cart templates
* Added SOLUTIONTYPE=Sole to paypal express to allow CC payments without paypal account

= 1.1.7 =
* Fixed 3.1 compatibility bug due to RC3 revertions
* Added setting to display prices with no decimals

= 1.1.6 =
* Added 'mp_default_settings' filter to mod default settings array on new stores
* Fixed http://premium.wpmudev.org/forums/topic/marketpress-template-page-mp_global_productsphp-works-but-browsers-title-says-page-not-found?replies=20#post-72045
* Fixed major 3.1 Compatibility bug I missed on orders page
* Fixed order status change success message on orders page

= 1.1.5 =
* Fixed: Global MarketPress Permalink Updating Problems - for sure this time ;-)

= 1.1.4 =
* WP 3.1 compatibility
* Autoupdate capable
* Updated default .po file for translation
* Fixed: Global products not removed for deleted/spammed/archived/deactivated sites
* Fixed: Make global tag/category lists filter out those with no counts
* Fixed: Global MarketPress Permalink Updating Problems - bug last time around

= 1.1.3 =
* Fixed: Global MarketPress Permalink Updating Problems
* Fixed: MarketPress check out page issues

= 1.1.2 =
* Fixed: MP html needs more css class names
* Fixed: Make "Continue Checkout" button text only
* Fixed: Unclosed label tags cause widget drag/drop issue in IE
* Fixed: Store page content overwritten
* Fixed: Product excerpts sometimes not showing in Product List Widget
* Fixed: When using custom templates page titles were not being filtered for virtual store pages

= 1.1.1 =
* Fixed: post_thumbnails breaks themes
* Fixed: Marketpress Product List widget displays all products

= 1.1 =
* 2Checkout and Authorize.net beta gateways added
* new mp_is_shop_page() template function http://premium.wpmudev.org/forums/topic/marketpressload_store_templates-should-make-is_shop_page-available
* fixed bug not allowing limited gateways for supporters
* lots of little bug fixes/improvements

= 1.0.4 =
* Added support for MP_ROOT_BLOG define to change blog for global listings
* Fixed permissions bug for changing order status

= 1.0.3 =
* Fixed fatal error when unchecking all gateways
* Fixed error saving decimal in extra shipping
* Fixed currency display decimals in admin fields

= 1.0.2 =
* Fixed bug with paging on product/taxonomy lists
* Fixed title on taxonomy list pages
* Hopefully added a workaround to detect and deal with poorly written plugins that flush rewrite rules before init
* Fixed bug that incorrectly showed out of stock button when stock remained

= 1.0.1 =
* Fixed bug in global listings that didn't show product thumbnails/prices

= 1.0 =
* Initial Release

== Upgrade Notice ==

= 2.4.2 =
Fixes a fatal bug introduced to the PayPal Express gateway in 2.4.1. Important update!
